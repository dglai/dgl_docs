<!DOCTYPE html>

<html class="writer-html5" data-content_root="../" lang="en">
<head>
<meta charset="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>dgl.to_heterogeneous ‚Äî DGL 2.0.0 documentation</title>
<link href="../_static/pygments.css?v=80d5e7a1" rel="stylesheet" type="text/css"/>
<link href="../_static/css/theme.css?v=19f00094" rel="stylesheet" type="text/css"/>
<link href="../_static/graphviz.css?v=fd3f3429" rel="stylesheet" type="text/css"/>
<link href="../_static/copybutton.css?v=76b2166b" rel="stylesheet" type="text/css"/>
<link href="../_static/sg_gallery.css?v=d2d258e8" rel="stylesheet" type="text/css"/>
<link href="../_static/sg_gallery-binder.css?v=f4aeca0c" rel="stylesheet" type="text/css"/>
<link href="../_static/sg_gallery-dataframe.css?v=2082cf3c" rel="stylesheet" type="text/css"/>
<link href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css?v=0bf289b5" rel="stylesheet" type="text/css"/>
<!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
<script src="../_static/jquery.js?v=5d32c60e"></script>
<script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
<script src="../_static/documentation_options.js?v=51b770b3"></script>
<script src="../_static/doctools.js?v=9a2dae69"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script src="../_static/clipboard.min.js?v=a7894cd8"></script>
<script src="../_static/copybutton.js?v=ccdb6887"></script>
<script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
<script src="../_static/js/theme.js"></script>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="dgl.to_homogeneous.html" rel="next" title="dgl.to_homogeneous"/>
<link href="dgl.to_half.html" rel="prev" title="dgl.to_half"/>
</head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../index.html">
            DGL
          </a>
<div class="version">
                2.0.0
              </div>
<div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div><div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Install and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/blitz/index.html">A Blitz Introduction to DGL</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Materials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stochastic_training/index.html">üÜï Stochastic Training of GNNs with GraphBolt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide_cn/index.html">Áî®Êà∑ÊåáÂçó„ÄêÂåÖÂê´ËøáÊó∂‰ø°ÊÅØ„Äë</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide_ko/index.html">ÏÇ¨Ïö©Ïûê Í∞ÄÏù¥Îìú[ÏãúÎåÄÏóê Îí§Ï≥êÏßÑ]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/sparse/index.html">Tutorials: dgl.sparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/cpu/index.html">Training on CPUs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/multi/index.html">Training on Multiple GPUs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/dist/index.html">Distributed training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/models/index.html">Paper Study with DGL</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api/python/dgl.html">dgl</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#graph-create-ops">Graph Create Ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#subgraph-extraction-ops">Subgraph Extraction Ops</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api/python/dgl.html#graph-transform-ops">Graph Transform Ops</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dgl.add_edges.html">dgl.add_edges</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.add_nodes.html">dgl.add_nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.add_reverse_edges.html">dgl.add_reverse_edges</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.add_self_loop.html">dgl.add_self_loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.adj_product_graph.html">dgl.adj_product_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.adj_sum_graph.html">dgl.adj_sum_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.compact_graphs.html">dgl.compact_graphs</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.khop_adj.html">dgl.khop_adj</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.khop_graph.html">dgl.khop_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.knn_graph.html">dgl.knn_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.laplacian_lambda_max.html">dgl.laplacian_lambda_max</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.line_graph.html">dgl.line_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.metapath_reachable_graph.html">dgl.metapath_reachable_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.metis_partition.html">dgl.metis_partition</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.metis_partition_assignment.html">dgl.metis_partition_assignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.norm_by_dst.html">dgl.norm_by_dst</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.partition_graph_with_halo.html">dgl.partition_graph_with_halo</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.radius_graph.html">dgl.radius_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.remove_edges.html">dgl.remove_edges</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.remove_nodes.html">dgl.remove_nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.remove_self_loop.html">dgl.remove_self_loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.reorder_graph.html">dgl.reorder_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.reverse.html">dgl.reverse</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.segmented_knn_graph.html">dgl.segmented_knn_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.sort_csr_by_tag.html">dgl.sort_csr_by_tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.sort_csc_by_tag.html">dgl.sort_csc_by_tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_bidirected.html">dgl.to_bidirected</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_block.html">dgl.to_block</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_cugraph.html">dgl.to_cugraph</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_double.html">dgl.to_double</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_float.html">dgl.to_float</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_half.html">dgl.to_half</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">dgl.to_heterogeneous</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dgl.to_heterogeneous"><code class="docutils literal notranslate"><span class="pre">to_heterogeneous()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_homogeneous.html">dgl.to_homogeneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_networkx.html">dgl.to_networkx</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_simple.html">dgl.to_simple</a></li>
<li class="toctree-l3"><a class="reference internal" href="dgl.to_simple_graph.html">dgl.to_simple_graph</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#graph-positional-encoding-ops">Graph Positional Encoding Ops:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#graph-partition-utilities">Graph Partition Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#batching-and-reading-out-ops">Batching and Reading Out Ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#adjacency-related-utilities">Adjacency Related Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#graph-traversal-message-propagation">Graph Traversal &amp; Message Propagation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#homophily-measures">Homophily Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#label-informativeness-measures">Label Informativeness Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/python/dgl.html#utilities">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.data.html">dgl.data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.dataloading.html">dgl.dataloading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.DGLGraph.html">dgl.DGLGraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.distributed.html">dgl.distributed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.function.html">dgl.function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.geometry.html">dgl.geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.graphbolt.html">üÜï dgl.graphbolt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/nn-pytorch.html">dgl.nn (PyTorch)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/nn-tensorflow.html">dgl.nn (TensorFlow)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/nn-mxnet.html">dgl.nn (MXNet)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/nn.functional.html">dgl.nn.functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.ops.html">dgl.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.optim.html">dgl.optim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.sampling.html">dgl.sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.sparse_v0.html">dgl.sparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/dgl.multiprocessing.html">dgl.multiprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/transforms.html">dgl.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/udf.html">User-defined Functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute to DGL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/ffi.html">DGL Foreign Function Interface (FFI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html">Performance Benchmarks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../env_var.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">Resources</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">DGL</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="Page navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Home" class="icon icon-home" href="../index.html"></a></li>
<li class="breadcrumb-item"><a href="../api/python/dgl.html">dgl</a></li>
<li class="breadcrumb-item active">dgl.to_heterogeneous</li>
<li class="wy-breadcrumbs-aside">
<a href="../_sources/generated/dgl.to_heterogeneous.rst.txt" rel="nofollow"> View page source</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<section id="dgl-to-heterogeneous">
<h1>dgl.to_heterogeneous<a class="headerlink" href="#dgl-to-heterogeneous" title="Link to this heading">ÔÉÅ</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="dgl.to_heterogeneous">
<span class="sig-prename descclassname"><span class="pre">dgl.</span></span><span class="sig-name descname"><span class="pre">to_heterogeneous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ntypes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etypes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ntype_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_TYPE'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etype_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_TYPE'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metagraph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dgl/convert.html#to_heterogeneous"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dgl.to_heterogeneous" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Convert a homogeneous graph to a heterogeneous graph and return.</p>
<p>The input graph should have only one type of nodes and edges. Each node and edge
stores an integer feature as its type ID
(specified by <code class="xref py py-attr docutils literal notranslate"><span class="pre">ntype_field</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">etype_field</span></code>).
DGL uses it to retrieve the type names stored in the given
<code class="xref py py-attr docutils literal notranslate"><span class="pre">ntypes</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">etypes</span></code> arguments.</p>
<p>The function will automatically distinguish edge types that have the same given
type IDs but different src and dst type IDs. For example, it allows both edges A and B
to have the same type ID 0, but one has (0, 1) and the other as (2, 3) as the
(src, dst) type IDs. In this case, the function will ‚Äúsplit‚Äù edge type 0 into two types:
(0, ty_A, 1) and (2, ty_B, 3). In another word, these two edges share the same edge
type name, but can be distinguished by an edge type triplet.</p>
<p>The function stores the node and edge IDs in the input graph using the <code class="docutils literal notranslate"><span class="pre">dgl.NID</span></code>
and <code class="docutils literal notranslate"><span class="pre">dgl.EID</span></code> names in the <code class="docutils literal notranslate"><span class="pre">ndata</span></code> and <code class="docutils literal notranslate"><span class="pre">edata</span></code> of the resulting graph.
It also copies any node/edge features from <code class="xref py py-attr docutils literal notranslate"><span class="pre">G</span></code> to the returned heterogeneous
graph, except for reserved fields for storing type IDs (<code class="docutils literal notranslate"><span class="pre">dgl.NTYPE</span></code> and <code class="docutils literal notranslate"><span class="pre">dgl.ETYPE</span></code>)
and node/edge IDs (<code class="docutils literal notranslate"><span class="pre">dgl.NID</span></code> and <code class="docutils literal notranslate"><span class="pre">dgl.EID</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<a class="reference internal" href="../api/python/dgl.DGLGraph.html#dgl.DGLGraph" title="dgl.DGLGraph"><em>DGLGraph</em></a>) ‚Äì The homogeneous graph.</p></li>
<li><p><strong>ntypes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>]</em>) ‚Äì The node type names.</p></li>
<li><p><strong>etypes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>]</em>) ‚Äì The edge type names.</p></li>
<li><p><strong>ntype_field</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) ‚Äì The feature field used to store node type. (Default: <code class="docutils literal notranslate"><span class="pre">dgl.NTYPE</span></code>)</p></li>
<li><p><strong>etype_field</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) ‚Äì The feature field used to store edge type. (Default: <code class="docutils literal notranslate"><span class="pre">dgl.ETYPE</span></code>)</p></li>
<li><p><strong>metagraph</strong> (<em>networkx MultiDiGraph</em><em>, </em><em>optional</em>) ‚Äì Metagraph of the returned heterograph.
If provided, DGL assumes that G can indeed be described with the given metagraph.
If None, DGL will infer the metagraph from the given inputs, which could be
costly for large graphs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A heterogeneous graph.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api/python/dgl.DGLGraph.html#dgl.DGLGraph" title="dgl.DGLGraph">DGLGraph</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The returned node and edge types may not necessarily be in the same order as
<code class="docutils literal notranslate"><span class="pre">ntypes</span></code> and <code class="docutils literal notranslate"><span class="pre">etypes</span></code>.</p></li>
<li><p>Calling <a class="reference internal" href="dgl.to_homogeneous.html#dgl.to_homogeneous" title="dgl.to_homogeneous"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_homogeneous()</span></code></a> then calling <a class="reference internal" href="#dgl.to_heterogeneous" title="dgl.to_heterogeneous"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_heterogeneous()</span></code></a> again
yields the same result.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>The following example uses PyTorch backend.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dgl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">torch</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hg</span> <span class="o">=</span> <span class="n">dgl</span><span class="o">.</span><span class="n">heterograph</span><span class="p">({</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">'user'</span><span class="p">,</span> <span class="s1">'develops'</span><span class="p">,</span> <span class="s1">'activity'</span><span class="p">):</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">'developer'</span><span class="p">,</span> <span class="s1">'develops'</span><span class="p">,</span> <span class="s1">'game'</span><span class="p">):</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">hg</span><span class="p">)</span>
<span class="go">Graph(num_nodes={'activity': 3, 'developer': 2, 'game': 2, 'user': 2},</span>
<span class="go">      num_edges={('developer', 'develops', 'game'): 2, ('user', 'develops', 'activity'): 2},</span>
<span class="go">      metagraph=[('developer', 'game', 'develops'), ('user', 'activity', 'develops')])</span>
</pre></div>
</div>
<p>We first convert the heterogeneous graph to a homogeneous graph.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">dgl</span><span class="o">.</span><span class="n">to_homogeneous</span><span class="p">(</span><span class="n">hg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Graph(num_nodes=9, num_edges=4,</span>
<span class="go">      ndata_schemes={'_TYPE': Scheme(shape=(), dtype=torch.int64),</span>
<span class="go">                     '_ID': Scheme(shape=(), dtype=torch.int64)}</span>
<span class="go">      edata_schemes={'_TYPE': Scheme(shape=(), dtype=torch.int64),</span>
<span class="go">                     '_ID': Scheme(shape=(), dtype=torch.int64)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">ndata</span>
<span class="go">{'_TYPE': tensor([0, 0, 0, 1, 1, 2, 2, 3, 3]), '_ID': tensor([0, 1, 2, 0, 1, 0, 1, 0, 1])}</span>
<span class="go">Nodes 0, 1, 2 for 'activity', 3, 4 for 'developer', 5, 6 for 'game', 7, 8 for 'user'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">edata</span>
<span class="go">{'_TYPE': tensor([0, 0, 1, 1]), '_ID': tensor([0, 1, 0, 1])}</span>
<span class="go">Edges 0, 1 for ('developer', 'develops', 'game'), 2, 3 for ('user', 'develops', 'activity')</span>
</pre></div>
</div>
<p>Now convert the homogeneous graph back to a heterogeneous graph.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hg_2</span> <span class="o">=</span> <span class="n">dgl</span><span class="o">.</span><span class="n">to_heterogeneous</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">hg</span><span class="o">.</span><span class="n">ntypes</span><span class="p">,</span> <span class="n">hg</span><span class="o">.</span><span class="n">etypes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">hg_2</span><span class="p">)</span>
<span class="go">Graph(num_nodes={'activity': 3, 'developer': 2, 'game': 2, 'user': 2},</span>
<span class="go">      num_edges={('developer', 'develops', 'game'): 2, ('user', 'develops', 'activity'): 2},</span>
<span class="go">      metagraph=[('developer', 'game', 'develops'), ('user', 'activity', 'develops')])</span>
</pre></div>
</div>
<p>Retrieve the original node/edge IDs.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hg_2</span><span class="o">.</span><span class="n">ndata</span><span class="p">[</span><span class="n">dgl</span><span class="o">.</span><span class="n">NID</span><span class="p">]</span>
<span class="go">{'activity': tensor([0, 1, 2]),</span>
<span class="go"> 'developer': tensor([3, 4]),</span>
<span class="go"> 'game': tensor([5, 6]),</span>
<span class="go"> 'user': tensor([7, 8])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hg_2</span><span class="o">.</span><span class="n">edata</span><span class="p">[</span><span class="n">dgl</span><span class="o">.</span><span class="n">EID</span><span class="p">]</span>
<span class="go">{('developer', 'develops', 'game'): tensor([0, 1]),</span>
<span class="go"> ('user', 'develops', 'activity'): tensor([2, 3])}</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="dgl.to_homogeneous.html#dgl.to_homogeneous" title="dgl.to_homogeneous"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_homogeneous</span></code></a></p>
</div>
</dd></dl>
</section>
</div>
</div>
<footer><div aria-label="Footer" class="rst-footer-buttons" role="navigation">
<a accesskey="p" class="btn btn-neutral float-left" href="dgl.to_half.html" rel="prev" title="dgl.to_half"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span> Previous</a>
<a accesskey="n" class="btn btn-neutral float-right" href="dgl.to_homogeneous.html" rel="next" title="dgl.to_homogeneous">Next <span aria-hidden="true" class="fa fa-arrow-circle-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<p>¬© Copyright 2018, DGL Team.</p>
</div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" data-toggle="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span class="fa fa-book"> Read the Docs</span>
<span id="version-placeholder">v: latest</span>
<span class="fa fa-caret-down"></span>
</span>
<div class="rst-other-versions">
<dl>
<dt>Versions</dt>
<div id="version-list">
<!-- Âä®ÊÄÅÊèíÂÖ•ÁöÑÁâàÊú¨ÂàóË°®Â∞ÜÂá∫Áé∞Âú®ËøôÈáå -->
</div>
</dl>
<dl>
<dt>Downloads</dt>
<!-- ‰∏ãËΩΩÂÜÖÂÆπ -->
</dl>
<dl>
<dt>On Read the Docs</dt>
<dd><a href="//doc-build.dgl.ai/projects/dgl/?fromdocs=dgl">Project Home</a></dd>
<dd><a href="//doc-build.dgl.ai/builds/dgl/?fromdocs=dgl">Builds</a></dd>
</dl>
</div>
</div>
<script>
        document.addEventListener("DOMContentLoaded", function() {
            fetch('/dgl_docs/branches.json')
                .then(response => response.json())
                .then(data => {
                    var versionListDiv = document.getElementById('version-list');
                    data.branches.forEach(function(branch) {
                        var dd = document.createElement('dd');
                        var a = document.createElement('a');
                        a.href = branch.url;
                        a.textContent = branch.name;
                        dd.appendChild(a);
                        versionListDiv.appendChild(dd);
                    });
                })
                .catch(error => console.error('Error loading branches:', error));
        });
        document.addEventListener("DOMContentLoaded", function() {
            // Ëé∑ÂèñÂΩìÂâçË∑ØÂæÑ
            var path = window.location.pathname;
            var versionPlaceholder = document.getElementById('version-placeholder');

            // Ê£ÄÊü•Ë∑ØÂæÑ‰∏≠ÊòØÂê¶ÂåÖÂê´ 'en'
            if (path.includes('/en/')) {
                // ÊèêÂèñ 'en' ÂêéÁöÑÊñá‰ª∂Â§π‰Ωú‰∏∫ÁâàÊú¨Âè∑
                var parts = path.split('/en/');
                if (parts[1]) {
                    var folders = parts[1].split('/');
                    if (folders.length > 0 && folders[0]) {
                        versionPlaceholder.textContent = 'v: ' + folders[0];
                    } else {
                        versionPlaceholder.textContent = 'v: latest';
                    }
                } else {
                    versionPlaceholder.textContent = 'v: latest';
                }
            } else {
                versionPlaceholder.textContent = 'v: latest';
            }
        });
    </script>

<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>